: CATCH_CONFIG_DISABLE_EXCEPTIONS-1
$* "Tests that run" >>~%EOM% != 0
%(
%((?!abort;terminate;fatal).)*%
%)+?
assertions: 4 | 2 passed | 2 failed
%(
%((?!abort;terminate;fatal).)*%
%)*?
EOM

# TODO: b version 0.13.0 exists and aborts
# Actually not a failure. stderr has the right string
if ($cxx.id != 'msvc')
{
  : CATCH_CONFIG_DISABLE_EXCEPTIONS-2
  $* "Tests that abort" 1>- 2>>~%EOM% != 0
  %(
  %.*%
  %)*?
  %Catch will terminate.*%
  %(
  %.*%
  %)*?
  EOM
}
